---
title: sftp
type: input
status: experimental
categories: ["Services","Network"]
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the contents of:
     lib/input/sftp.go
-->

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

EXPERIMENTAL: This component is experimental and therefore subject to change or removal outside of major version releases.

Downloads objects via an SFTP connection.

```yaml
# Config fields, showing default values
input:
  sftp:
    server: ""
    port: 0
    credentials:
      username: ""
      secret: ""
    filepath: ""
    watcher_mode: false
    process_existing_records: true
    include_header: false
    message_delimiter: ""
    max_connection_attempts: 10
    file_check_sleep_duration: 1
    file_check_max_attempts: 10
    directory_mode: false
    directory_path: ""
```

Downloads objects via an SFTP connection.
## Metadata
This input adds the following metadata fields to each message:
```
- date_created
- file_path
- line_num
- All user defined metadata
```
You can access these metadata fields using [function interpolation](/docs/configuration/interpolation#metadata).

## Fields

### `server`

The server to connect to that has the target files.


Type: `string`  
Default: `""`  

### `port`

The port to connect to on the server.


Type: `number`  
Default: `0`  

### `credentials`

The credentials to use to log into the SFTP server.


Type: `object`  

### `credentials.username`

The username to connect to the SFTP server.


Type: `string`  
Default: `""`  

### `credentials.secret`

The secret/password for the username to connect to the SFTP server.


Type: `string`  
Default: `""`  

### `filepath`

The path of the file to pull messages from. Filepath is only used if directory_mode is set to false.


Type: `string`  
Default: `""`  

### `watcher_mode`

If true, will watch for changes on the file(s) and send messages as updates are added to the file(s). Otherwise, it will exit after processing the file(s)


Type: `bool`  
Default: `false`  

### `process_existing_records`

If true, the entire file(s) will be processed. If false, only the changes made after the Benthos pipeline has been running will be processed.Only used if watcher_mode is set to true.


Type: `bool`  
Default: `true`  

### `include_header`

Whether the first line in the file(s) is sent as a message.


Type: `bool`  
Default: `false`  

### `message_delimiter`

The delimiter that separates messages, defaults to new line.


Type: `string`  
Default: `""`  

### `max_connection_attempts`

Number of times it will try to connect to the server before exiting.


Type: `number`  
Default: `10`  

### `file_check_sleep_duration`

How long it will sleep after failing to connect to the file or directory.


Type: `number`  
Default: `1`  

### `file_check_max_attempts`

Number of times it will try opening the file or directory before exiting.


Type: `number`  
Default: `10`  

### `directory_mode`

Whether it is processing a directory of files or a single file.


Type: `bool`  
Default: `false`  

### `directory_path`

The path of the directory that it will process. This field is only used if directory_mode is set to true.


Type: `string`  
Default: `""`  


